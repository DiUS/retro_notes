<!DOCTYPE html>
<html ng-app="app">
<head>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular-resource.min.js"></script>
    <script src="/javascript/application.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/application.css" />
<script type="text/ng-template" id="/static/layouts/default.html">
<div ui-view></div></script>
<script type="text/ng-template" id="/static/projects/edit.html">
<form ng-submit="update()">
  <ng-include src="'/static/projects/form.html'" />
</form></script>
<script type="text/ng-template" id="/static/projects/form.html">
<input type="hidden" ng-model="project.id" id="projectid" />

<label for="title">Title</label>
<input type="text" ng-model="project.title" />

<button type="submit">Save</button> </script>
<script type="text/ng-template" id="/static/projects/index.html">
<h1>Projects</h1>

<ul>
  <li ng-repeat="project in projects">
    Title: {{project.title}}
    <a href="/projects/{{project.id}}">Show</a>
    <a href="/projects/{{project.id}}/edit">Edit</a>
    <a href="" ng-click="destroy(project.id)">Delete</a>
  </li>
</ul>

<a href="/projects/new">Add new project</a></script>
<script type="text/ng-template" id="/static/projects/new.html">
<form ng-submit="create()">
  <ng-include src="'/static/projects/form.html'" />
</form></script>
<script type="text/ng-template" id="/static/projects/show.html">
<h1 ng-bind="project.title"></h1>

Sessions
<span ng-repeat="retro in retros">
  <a ng-href="/projects/{{project.id}}/retros/{{retro.id}}" ng-bind="retro.title"></a>
  <br>
</span>

<a href="/projects/{{project.id}}/retros/new">Create new Retro</a></script>
<script type="text/ng-template" id="/static/retros/new.html">
<form ng-submit="create()">
  <label for="title">Title</label>
  <input type="text" ng-model="retro.title" />


<label for="headings">Reflections</label>
<input type="text" ng-model="retro.reflections" />

  <button type="submit">Save</button> 
</form>
</script>
<script type="text/ng-template" id="/static/retros/new_action_form.html">
<form ng-submit="create()">
  <input type="hidden" ng-model="new_retro_action.retro_id" ng-init="new_retro_action.retro_id = retro.id" >
  <textarea placeholder="something here" ng-model="new_retro_action.content"></textarea>
  <input type="submit" value="Add"/>
</form></script>
<script type="text/ng-template" id="/static/retros/new_response_form.html">
<form ng-submit="create(new_retro_response.retro_reflection_id)">
  <select ng-model="new_retro_response.retro_reflection_id">
    <option ng-repeat="retro_reflection in retro.retro_reflections" value="{{retro_reflection.id}}" ng-bind="retro_reflection.title"></option>
  </select>
  <textarea placeholder="something here" ng-model="new_retro_response.content"></textarea>
  <input type="submit" value="Add"/>
</form>

<a href="/projects/{{project.id}}/feedback_sessions/{{feedback_session.id}}">close</a></script>
<script type="text/ng-template" id="/static/retros/show.html">
<section class="main-section">
  <h1>{{retro.title}}</h1>

  <div ng-repeat="retro_reflection in retro.retro_reflections" class="item-column">
    <h1 ng-bind="retro_reflection.title" class="item-column__heading"></h1>
    <ul class="item-column__items">
      <li ng-repeat="retro_response in retro_reflection.retro_responses" ng-bind="retro_response.content" class="item-column__item"></li>
    </ul>
  </div>
</section>

<a href="/projects/{{project.id}}/retros/{{retro.id}}/response/new" class="button">Add thought</a>
<div ui-view="response_form"></div>
    <h1>Actions</h1>
    <ul>
        <li ng-repeat="retro_action in retro.actions">{{retro_action.content}}<input type="checkbox" ng-model="retro_action.resolved" ng-click="resolve_action(retro_action)"/></li>

    </ul>
<a href="/projects/{{project.id}}/retros/{{retro.id}}/action/new" class="button">Add Action</a>
<div ui-view="action_form"></div>
</script>
</head>
<body>
<div ui-view><a href="/projects">Projects</a></div>
</body>
</html>
